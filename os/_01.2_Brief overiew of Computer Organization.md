# _01.2: Brief Overview of Computer Organization_
## __01.2.0 Von Neumann Architecture__
- Most used one today.

```java
Address Bus + Data Bus
--------------------------------------------
        |                                   |
        |                                   |       +----------+
+------------------+   +-----------+        | <---- | Keyboard |
| +--------------+ |   | Main      |        |       +----------+
| | Control Unit | |   | Memory    | <----> |       +----------+
| +--------------+ |   |           |        | <---- | Mouse    |
| +--------------+ |   +-----------+        |       +----------+
| | ALU          | |                        |          Input
| +--------------+ |   +-----------+        |       +----------+
| +--------------+ |   | Secondary |        | ----> | Display  |
| | Registers(1) | |   | Memory    | <----> |       +----------+
| +--------------+ |   |           |        |         Output
+------------------+   +-----------+        |
        CPU               Storage          Bus

// (1) Special registers:
//    - Intruction Register
//    - Program Counter
//    - Stack Pointer
```

## __01.2.1 Instruction Set Architecture__
- What we typically use today.
- Abstract model of `central processing unit` (CPU)
### Base on a set of instructions:
- `mov 2000, %ecx`
- mov (instruction)
- 2000 (operand)
- %ecx (operand)
### Several main types of processors:
- Complex Instruction Set Computer (CISC), `x86, x64`
- Reduced Instruction Set Computer (RISC), `risc-v`
- Very Long Instruction Word (VLIW)

--------------------------------------------------

## __01.2.2 Memory Address__
- Max ram 64-bit Win10: Home(128gb), Pro+ (2TB), Enterprise (6TB)
- Max ram MacOS X, Linux (16 Exabytes)

```js
+----+------+
| 1k | 2^10 |
| 1M | 2^20 |
| 1G | 2^30 |
| 1T | 2^40 |
| 1P | 2^50 |
| 1E | 2^60 |
+----+------+
```
### 8-bit
- 256 (2^8-1)

### 16-bit
- 64k (2^16-1)
- 2^6 x 2^10 = 64K

### 32-bit
- 4G (2^32-1)
- 2^2 x 2^30 = 4G

### 64-bit
- 16E (2^64-1)

--------------------------------------------------

## __01.2.3 CPU Execution Cycle__
```js
 +-------+        +--------+        +---------+
 | Fetch | -----> | Decode | -----> | Execute | -----
 +-------+        +--------+        +---------+      |
     ^   1                 2                         |
     |                                               |
     |                                               |
     |                     no     +-----------+      |
     |<-------------------------- | Check for | <----
     |                            | interrupt |
     |                            +-----------+
     |                            3         |
     |                                      | yes
     |                                      |
 +-----------+       +-----------+       +-----------+
 | Save      |       | Execute   |       | Save      |
 | Processor | <---- | Interrupt | <---- | Processor |
 | State     |       | Service   |       | State     |
 |           |       | Routine   |       |           |
 |           |       | (ISR)     |       |           |
 +-----------+       +-----------+       +-----------+

/**
 * 1. Go to address stored in a Program Counter, get the 
 * instruction and place it in the Instruction Register.
 * 
 * 2. Decode the instruction into actions in hardware.
 * 
 * 3. Determine if the process should be suspended.
 */ 
```

--------------------------------------------------

## __01.2.4 Interrupts__
- Could be generated by hardware or software
- `Handling of interrupts are transparent to the user program`
- On `Return from Interrupt`, the state of the running program is restored.
- User program continues at exactly the same point as when it was interuppted.

--------------------------------------------------

## __01.2.5 Multi-processor System__
```js
+--------------------+   +--------------------+
|    processor(0)    |   |    processor(1)    |
| +----------------+ |   | +----------------+ |
| |     CPU(0)     | |   | |     CPU(1)     | |
| | +------------+ | |   | | +------------+ | |
| | | registers  | | |   | | | registers  | | |
| | +------------+ | |   | | +------------+ | |
| |        |       | |   | |        |       | |
| | +------------+ | |   | | +------------+ | |
| | | cache      | | |   | | | cache      | | |
| | +------------+ | |   | | +------------+ | |
| |        |       | |   | |        |       | |
| +----------------+ |   | +----------------+ |
|          |         |   |          |         |
+--------------------+   +--------------------+
           |                        |         
           |                        |         
            ------------------------
                       |
                       |
+---------------------------------------------+
|                 main memory                 |
+---------------------------------------------+

// cache: smaller memory with faster access time.
```

--------------------------------------------------

## __01.2.6 Multicore Processors__
```js
+---------------------------------------------+
|                processor(0)                 |
| +----------------+       +----------------+ |
| |   CPU core(0)  |       |   CPU core(1)  | |
| | +------------+ |       | +------------+ | |
| | | registers  | |       | | registers  | | |
| | +------------+ |       | +------------+ | |
| |        |       |       |        |       | |
| | +------------+ |       | +------------+ | |
| | | L1 cache   | |       | | L1 cache   | | |
| | +------------+ |       | +------------+ | |
| |        |       |       |        |       | |
| +----------------+       +----------------+ |
|          |                        |         |
|   +-------------------------------------+   |
|   |              L2 cache               |   |
|   +-------------------------------------+   |
|                      |                      |
+---------------------------------------------+
                       |
                       |
+---------------------------------------------+
|                 main memory                 |
+---------------------------------------------+
```

--------------------------------------------------

## __01.2.7 Memory Hierarchy__
```js
| < Faster / smaller
|
                          ---------------
             +-----------+               |
             | registers |               |
             +-----------+               |
           +---------------+             |
           | cache         |             |---primary storage
           +---------------+             |
         +-------------------+           |
         | main memory       |           |
         +-------------------+           |
                          ---------------
   volatile
---------------------------------------------
   nonvolatile
                          ---------------
       +-----------------------+         |
       | nonvolatile memory    |         |
       +-----------------------+         |---secondary storage
     +---------------------------+       |
     | hard-disk drives          |       |
     +---------------------------+       |
                          ---------------

                          ---------------
   +-------------------------------+     |
   | optical disk                  |     |
   +-------------------------------+     |---tertiary storage
 +-----------------------------------+   |
 | magnetic tapes                    |   |
 +-----------------------------------+   |
                          ---------------
|
| < slower / larger
```

--------------------------------------------------
--------------------------------------------------
--------------------------------------------------